<!DOCTYPE html>
<html>
<head>
    <title>幾徳祭 オリジナルMAP</title>
    <meta charset="utf-p">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        #map {
            width: 100%;
            height: 100%;
            background-color: #ddd; /* 画像読み込み中の背景色 */
        }
    </style>
</head>
<body>

<div id="map"></div>

<script>
    // 1. マップの初期化
    const map = L.map('map', {
        crs: L.CRS.Simple, // 緯度経度ではない、単純な座標系を使用
        minZoom: -2, // どこまで縮小できるか
    });

    // 2. 画像のサイズと境界を設定
    // 注意: この座標(bounds)は試行錯誤して調整する必要があります！
    const bounds = [[0, 0], [1000, 1200]]; // 画像の左下と右上の座標 [y1, x1], [y2, x2]
    const imageUrl = 'スクリーンショット 2025-10-04 202603.png'; // 画像ファイル名

    // 3. 地図として画像を表示
    L.imageOverlay(imageUrl, bounds).addTo(map);
    map.fitBounds(bounds); // 画像が画面に収まるように表示

    // 4. 模擬店の四角形を追加 (ここからが本番！)
    // booth_map.pngの「射的」「輪投げ」「景品交換所」のエリアを例として作成
    const boothShateki = [[550, 450], [650, 650]]; // [y1, x1], [y2, x2]の形式
    L.rectangle(boothShateki, {
        color: "#ff7800", // 枠線の色
        weight: 2, // 枠線の太さ
    }).addTo(map).bindPopup("<b>射的</b><br>1回300円！豪華景品を狙え！");

    // booth_map.pngの①と②のエリア
    const booth1_2 = [[700, 250], [800, 350]];
     L.rectangle(booth1_2, {
        color: "#00aaff",
        weight: 2,
    }).addTo(map).bindPopup("<b>① 〇〇部の焼きそば</b><br><b>② △△愛好会のフランクフルト</b>");

    // booth_map.pngの⑦飲食エリア
    const booth7 = [[300, 300], [350, 400]];
     L.rectangle(booth7, {
        color: "green",
        weight: 2,
    }).addTo(map).bindPopup("<b>⑦ 飲食スペース</b><br>購入した食べ物はこちらでどうぞ！");


    // 【応用】建物をクリックして情報を表示
    // 図書館エリアをポリゴン(多角形)で作成
    const libraryArea = [
        [800, 400], [800, 800], [700, 800], [700, 400]
    ];
    L.polygon(libraryArea, {
        color: 'blue',
        fillOpacity: 0.1, // 透明度
    }).addTo(map).bindPopup("<h3>図書館</h3><p>館内では以下のイベントを実施中です。</p><ul><li>写真部 展示会</li><li>書道部 作品展</li></ul>");


</script>

</body>
</html>